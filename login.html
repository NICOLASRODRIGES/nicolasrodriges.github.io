<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Вход в систему</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="style.css" rel="stylesheet">
    <script>
        // Anti-debugging
        setInterval(() => {
            const start = new Date();
            debugger;
            const end = new Date();
            if (end - start > 100) {
                window.location.href = 'about:blank';
            }
        }, 100);

        // Disable right-click
        document.addEventListener('contextmenu', e => e.preventDefault());

        // Disable DevTools keyboard shortcuts
        document.addEventListener('keydown', e => {
            if ((e.ctrlKey && e.shiftKey && (e.key === 'I' || e.key === 'J' || e.key === 'C')) || 
                (e.ctrlKey && e.key === 'U') || 
                e.key === 'F12') {
                e.preventDefault();
            }
        });
    </script>
</head>
<body>
    <div class="container mt-5">
        <div class="row justify-content-center">
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header">
                        <h3 class="text-center">Вход в систему</h3>
                    </div>
                    <div class="card-body">
                        <div id="error" class="alert alert-danger" style="display: none;"></div>
                        <div id="debug" class="alert alert-info" style="display: none;"></div>
                        <form id="loginForm">
                            <div class="mb-3">
                                <label for="username" class="form-label">Имя пользователя</label>
                                <input type="text" class="form-control" id="username" value="111">
                            </div>
                            <div class="mb-3">
                                <label for="password" class="form-label">Пароль</label>
                                <input type="password" class="form-control" id="password" value="1234">
                            </div>
                            <button type="button" class="btn btn-primary w-100" onclick="tryLogin()">Войти</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="js/dist/config.min.js"></script>
    <script src="js/dist/auth.min.js"></script>
    <script>
        async function tryLogin() {
            const debugDiv = document.getElementById('debug');
            debugDiv.style.display = 'block';
            debugDiv.textContent = 'Попытка входа...';
            
            try {
                await login();
                debugDiv.textContent += '\nВход выполнен успешно!';
            } catch (error) {
                debugDiv.textContent += '\nОшибка: ' + error.message;
                console.error('Ошибка входа:', error);
            }
        }

        // Проверка конфигурации при загрузке
        document.addEventListener('DOMContentLoaded', () => {
            const debugDiv = document.getElementById('debug');
            debugDiv.style.display = 'block';
            debugDiv.textContent = 'Проверка конфигурации...';
            
            if (window.API_CONFIG) {
                debugDiv.textContent += '\nКонфигурация загружена';
            } else {
                debugDiv.textContent += '\nОшибка: конфигурация не найдена';
            }
        });
    </script>
</body>
</html> 